---
layout: post
title: "《SRE Google运维解密》阅读"
date: 2021-04-01 20:49:22 +0800
category: read
typora-root-url: ..
---

Google工程师在提高系统部署规模、改进可靠性和资源利用率方面的指导思想与具体实践——这些都是可以立即直接应用的宝贵经验。

<!--more-->

#### 一、介绍

系统管理员的日常工作与研发工程师相差甚远，通常分属两个不同的部门：开发部（Dev）和运维部（Ops）。

传统的研发团队和运维团队分歧的焦点主要在软件新版本、新配置的变更的发布速度上。研发部门更关注的是如何能够更快速地构建和发布新功能。运维部门更关注的是如何能在他们值班期间避免发生故障。这两个部门的目标从本质上来说是互相矛盾的。

SRE这种模型是Google尝试着从根本上避免产生这种矛盾的结果。SRE团队通过雇佣软件工程师，创造软件系统来维护系统运行以替代传统模型中的人工操作。

SRE就是让软件工程师来设计一个新型运维团队的结果。

一般来说，SRE团队要承担以下几类职责：可用性改进，延迟优化，性能优化，效率优化，变更管理，监控，紧急事务处理以及容量规划与管理。

SRE的几个核心方法论：

- 确保长期关注研发工作
- 在保障服务SLO的前提下最大化迭代速度
- 监控系统
- 应急事件处理
- 变更管理
- 需求预测和容量规划
- 资源部署
- 效率与性能

Google SRE代表了对行业现存管理大型复杂服务的最佳实践的一个重要突破。由一个简单的想法“我是一名软件工程师，这是我如何来应付重复劳动的办法”而生，SRE模型已经发展成一套指导思想、一套方法论、一套激励方法和一个拥有广阔空间的独立职业。



#### 三、拥抱风险

错误预算提供了一个明确的、客观的指标来决定服务在一个单独的季度中能接受多少不可靠性。

- 产品管理层定义一个SLO，确定一项服务在每个季度预计的正常运行时间。
- 实际在线时间是通过一个中立的第三方来测算的：我们的监控系统。
- 这两个数字的差值就是这个季度中剩余的不可靠性预算。
- 只要测算出正常的在线时间高于SLO，也就是说，只要仍然有剩余的错误预算，就可以发布新的版本。